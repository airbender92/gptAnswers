<!DOCTYPE html>
<html>

<head>
  <title>HTML to Canvas Coordinates Demo</title>
  <style>
    canvas {
      border: 1px solid #000;
    }
  </style>
</head>

<body>
  <canvas id="myCanvas" width="400" height="200"></canvas>
  <canvas id="myCanvas2" width="400" height="200"></canvas>
  <script>
   // Get the canvas element and its 2D drawing context
    const canvas = document.getElementById('myCanvas');
    const ctx = canvas.getContext('2d');

    // Define translation and scaling factors
    const TRANSLATE_X = 0;
    const TRANSLATE_Y = 0;
    const SCALE_X = 2;
    const SCALE_Y = 2;

    // Conversion function: HTML point to Canvas point
    function HtmlPointToCanvasPoint([x, y]) {
      return [(x - TRANSLATE_X) / SCALE_X, (y - TRANSLATE_Y) / SCALE_Y];
    }

    // Add a click event listener to the canvas
    canvas.addEventListener('click', (event) => {
      // Get the mouse click coordinates in HTML space using offsetX and offsetY
      const htmlX = event.offsetX;
      const htmlY = event.offsetY;

      // Convert HTML coordinates to Canvas coordinates
      const [canvasX, canvasY] = HtmlPointToCanvasPoint([htmlX, htmlY]);

      // Draw a red rectangle at the converted Canvas coordinates
      ctx.fillStyle = 'red';
      ctx.fillRect(canvasX, canvasY, 20, 20);
    });


  </script>
  <script>
    // Get a reference to the canvas element and its context
      var canvas2 = document.getElementById("myCanvas2");
      var ctx2 = canvas2.getContext("2d");

      // Define the scaling factors
      var scaleX = 2; // Scale horizontally by a factor of 2
      var scaleY = 2; // Scale vertically by a factor of 2

      // Apply the scaling transformation
      ctx2.scale(scaleX, scaleY);

      // Now, anything drawn on the canvas will be scaled by the specified factors

      // Example: Draw a rectangle (original size: 100x50)
      ctx2.fillStyle = "blue";
      ctx2.fillRect(10, 10, 100, 50); // This will be scaled to 200x100 on the canvas

  </script>
</body>

</html>